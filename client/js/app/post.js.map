{"version":3,"sources":["../app-es6/post.js"],"names":["sendPost","event","preventDefault","console","log","$","document","getElementById","bind","inputBanco","inputPais","inputData","inputVariacao","inputBolsa","inputCodigo","inputRetorno","inputCota","inputValor","negociacao","banco","value","pais","data","DateHelper","textoParaData","variacao","bolsa","codigo","retorno","cota","valor","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","status","inputPaisvalue","toFixed","focus","alert","responseText","send","JSON","stringify"],"mappings":";;AAAA,SAASA,QAAT,CAAkBC,KAAlB,EAAyB;;AAErBA,UAAMC,cAAN;;AAEAC,YAAQC,GAAR,CAAY,eAAZ;;AAEA,QAAIC,IAAIC,SAASC,cAAT,CAAwBC,IAAxB,CAA6BF,QAA7B,CAAR;;AAEAG,iBAAaJ,EAAE,OAAF,CAAb;AACAK,gBAAYL,EAAE,MAAF,CAAZ;AACAM,gBAAYN,EAAE,MAAF,CAAZ;AACAO,oBAAgBP,EAAE,UAAF,CAAhB;AACAQ,iBAAaR,EAAE,OAAF,CAAb;AACAS,kBAAcT,EAAE,QAAF,CAAd;AACAU,mBAAeV,EAAE,SAAF,CAAf;AACAW,gBAAYX,EAAE,MAAF,CAAZ;AACAY,iBAAaZ,EAAE,OAAF,CAAb;;AAEA,QAAIa,aAAa;;AAEbC,eAAOV,WAAWW,KAFL;AAGbC,cAAMX,UAAUU,KAHH;AAIbE,cAAMC,WAAWC,aAAX,CAAyBb,UAAUS,KAAnC,CAJO;AAKbK,kBAAUb,cAAcQ,KALX;AAMbM,eAAOb,WAAWO,KANL;AAObO,gBAAQb,YAAYM,KAPP;AAQbQ,iBAASb,aAAaK,KART;AASbS,cAAMb,UAAUI,KATH;AAUbU,eAAOb,WAAWG;;AAVL,KAAjB;;AAcA,QAAIW,MAAM,IAAIC,cAAJ,EAAV;AACAD,QAAIE,IAAJ,CAAS,MAAT,EAAiB,cAAjB,EAAiC,IAAjC;AACAF,QAAIG,gBAAJ,CAAqB,cAArB,EAAqC,kBAArC;;AAEAH,QAAII,kBAAJ,GAAyB,YAAM;;AAE3B,YAAIJ,IAAIK,UAAJ,IAAkB,CAAtB,EAAyB;;AAErB,gBAAIL,IAAIM,MAAJ,IAAc,GAAlB,EAAuB;;AAEnB5B,2BAAWW,KAAX,GAAmB,EAAnB;AACAkB,iCAAiB,EAAjB;AACA3B,0BAAUS,KAAV,GAAkB,EAAlB;AACAR,8BAAcQ,KAAd,GAAsB,MAAMmB,OAAN,CAAc,CAAd,CAAtB;AACA1B,2BAAWO,KAAX,GAAmB,EAAnB;AACAN,4BAAYM,KAAZ,GAAoB,EAApB;AACAL,6BAAaK,KAAb,GAAqB,MAAMmB,OAAN,CAAc,CAAd,CAArB;AACAvB,0BAAUI,KAAV,GAAkB,CAAlB;AACAH,2BAAWG,KAAX,GAAmB,MAAMmB,OAAN,CAAc,CAAd,CAAnB;;AAEA9B,2BAAW+B,KAAX;;AAEAC,sBAAM,gCAAN;AACH,aAfD,MAeO;AACHA,6EAA+CV,IAAIW,YAAnD;AACH;AACJ;AACJ,KAvBD;AAwBAX,QAAIY,IAAJ,CAASC,KAAKC,SAAL,CAAe3B,UAAf,CAAT;AAEH","file":"post.js","sourcesContent":["function sendPost(event) {\n\n    event.preventDefault();\n\n    console.log(\"Enviando post\");\n\n    let $ = document.getElementById.bind(document);\n\n    inputBanco = $('banco');\n    inputPais = $('pais');\n    inputData = $('data');\n    inputVariacao = $('variacao');\n    inputBolsa = $('bolsa');\n    inputCodigo = $('codigo');\n    inputRetorno = $('retorno');\n    inputCota = $('cota');\n    inputValor = $('valor');   \n\n    let negociacao = {\n\n        banco: inputBanco.value,\n        pais: inputPais.value,\n        data: DateHelper.textoParaData(inputData.value),\n        variacao: inputVariacao.value,\n        bolsa: inputBolsa.value,\n        codigo: inputCodigo.value,\n        retorno: inputRetorno.value,\n        cota: inputCota.value,\n        valor: inputValor.value\n        \n    };\n\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", \"/negociacoes\", true);\n    xhr.setRequestHeader(\"Content-type\", \"application/json\");\n\n    xhr.onreadystatechange = () => {\n\n        if (xhr.readyState == 4) {\n\n            if (xhr.status == 200) {\n\n                inputBanco.value = '';\n                inputPaisvalue = '';\n                inputData.value = '';\n                inputVariacao.value = 0.000.toFixed(3);\n                inputBolsa.value = '';\n                inputCodigo.value = '';\n                inputRetorno.value = 0.000.toFixed(3);\n                inputCota.value = 1;\n                inputValor.value = 0.000.toFixed(3);\n\n                inputBanco.focus();\n\n                alert('Negociação enviada com sucesso');\n            } else {\n                alert(`Não foi possível enviar a negociação: ${xhr.responseText}`);\n            }\n        }\n    }\n    xhr.send(JSON.stringify(negociacao));\n\n}"]}